<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Data Version Control for the Targets Package • gittargets</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Data Version Control for the Targets Package">
<meta property="og:description" content="Version control systems such as Git help researchers
  track changes and history in data science projects,
  and the targets package (2021, &lt;doi:10.21105/joss.02959&gt;)
  minimizes the computational cost of keeping the latest results
  reproducible and up to date. The gittargets package
  combines these two capabilities. The targets data store
  becomes a version control repository and stays synchronized
  with the Git repository of the source code.
  Users can switch commits and branches
  without invalidating the targets pipeline.">
<meta property="og:image" content="/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">gittargets</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Functions</a>
</li>
<li>
  <a href="https://docs.ropensci.org/targets" class="external-link">targets</a>
</li>
<li>
  <a href="articles/index.html">Vignettes</a>
</li>
<li>
  <a href="news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/wlandau/gittargets" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="gittargets-">gittargets <img src="reference/figures/logo-readme.png" align="right" height="139"><a class="anchor" aria-label="anchor" href="#gittargets-"></a>
</h1></div>

<p>Version control systems such as Git help researchers track changes and history in data science projects, and the <a href="https://docs.ropensci.org/targets/" class="external-link"><code>targets</code></a> package minimizes the computational cost of keeping the latest results reproducible and up to date. The <code>gittargets</code> package combines these two capabilities. The <a href="https://docs.ropensci.org/targets/" class="external-link"><code>targets</code></a> data store becomes a version control repository and stays synchronized with the Git repository of the source code. Users can switch commits and branches without invalidating the <a href="https://docs.ropensci.org/targets/" class="external-link"><code>targets</code></a> pipeline.</p>
<div class="section level2">
<h2 id="prerequisites">Prerequisites<a class="anchor" aria-label="anchor" href="#prerequisites"></a>
</h2>
<ol style="list-style-type: decimal">
<li>Familiarity with the <a href="https://www.r-project.org/" class="external-link">R programming language</a>, covered in <a href="https://r4ds.had.co.nz/" class="external-link">R for Data Science</a>.</li>
<li>
<a href="https://rstats.wtf/index.html" class="external-link">Data science workflow management best practices</a>.</li>
<li>
<a href="https://git-scm.com" class="external-link">Git</a>, covered in <a href="https://happygitwithr.com" class="external-link">Happy Git and GitHub for the useR</a>.</li>
<li>
<a href="https://docs.ropensci.org/targets/" class="external-link"><code>targets</code></a>, which has resources on the <a href="https://docs.ropensci.org/targets/#how-to-get-started" class="external-link">documentation website</a>.</li>
</ol>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Install the development version from R with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"wlandau/gittargets"</span><span class="op">)</span></code></pre></div>
<p>You will also need command line Git, available at <a href="https://git-scm.com/downloads" class="external-link uri">https://git-scm.com/downloads</a>.[1] Please make sure Git is reachable from your system path environment variables. To control which Git executable <code>gittargets</code> uses, you may set the <code>TAR_GIT</code> environment variable with <code>usethis::edit_r_environ()</code> or <code><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv()</a></code>. You will also need to configure your user name and user email at the global level using the instructions at <a href="https://git-scm.com/book/en/v2/Getting-Started-First-Time-Git-Setup" class="external-link uri">https://git-scm.com/book/en/v2/Getting-Started-First-Time-Git-Setup</a> (or <code><a href="https://docs.ropensci.org/gert/reference/git_config.html" class="external-link">gert::git_config_global_set()</a></code>). Run <code><a href="reference/tar_git_ok.html">tar_git_ok()</a></code> to check installation and configuration.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/tar_git_ok.html">tar_git_ok</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; ✓ Git binary: /path/to/git</span>
<span class="co">#&gt; ✓ Git config global user name: your_user_name</span>
<span class="co">#&gt; ✓ Git config global user email: your_email@example.com</span>
<span class="co">#&gt; [1] TRUE</span></code></pre></div>
<p>There are also backend-specific installation requirements and recommendations in the <a href="https://wlandau.github.io/gittargets/articles/index.html" class="external-link">package vignettes</a>.</p>
</div>
<div class="section level2">
<h2 id="how-it-works">How it works<a class="anchor" aria-label="anchor" href="#how-it-works"></a>
</h2>
<p><img src="./reference/figures/workflow.png"></p>
<div class="section level3">
<h3 id="development">Development<a class="anchor" aria-label="anchor" href="#development"></a>
</h3>
<p>When you develop a reproducible analysis project, you write R code, run the pipeline, commit the code to a branch, and repeat. <code>gittargets</code> enters the picture at the end of each one of these development cycles. When the code files are up to date in the Git repository and the targets are up to date in the pipeline, <code>gittargets</code> can snapshot the <a href="https://books.ropensci.org/targets/files.html#internal-data-files" class="external-link"><code>targets</code> data store</a> to a local version control repository of its own. Data snapshots map to code commits in a way that facilitates data recovery. This mapping may differ from backend to backend, and the <a href="https://wlandau.github.io/gittargets/articles/index.html" class="external-link">package vignettes</a> explain the details.</p>
</div>
<div class="section level3">
<h3 id="transitions">Transitions<a class="anchor" aria-label="anchor" href="#transitions"></a>
</h3>
<p>To reproducibly track alternative versions of your project, it is good practice to create multiple Git commits and Git branches for your R code during development. That way, you can transition among multiple versions of your code with <a href="https://git-scm.com/docs/git-checkout" class="external-link"><code>git checkout</code></a>. But your code commits probably do not contain the <a href="https://books.ropensci.org/targets/files.html#internal-data-files" class="external-link"><code>targets</code> data store</a> because it is too big to fit on <a href="https://github.com" class="external-link">GitHub</a>. If so, switching to a different branch will most likely invalidate the <a href="https://docs.ropensci.org/targets/" class="external-link"><code>targets</code></a> pipeline, causing you to rerun hours of computation you should not have to run. But with <code>gittargets</code>, once you check out a branch in the code, you can also check out the corresponding snapshot of the <a href="https://books.ropensci.org/targets/files.html#internal-data-files" class="external-link">data store</a>. If you check out both the code commit and its matching data snapshot, then you will restore your old targets and they will all be up to date.</p>
</div>
<div class="section level3">
<h3 id="performance">Performance<a class="anchor" aria-label="anchor" href="#performance"></a>
</h3>
<p><code>targets</code> generates a large amount of data in <code>_targets/objects/</code>, so data snapshots and checkouts may take a long time. To work around performance limitations, you may wish to only snapshot the data at the most important milestones of your project. Please refer to the <a href="https://wlandau.github.io/gittargets/articles/index.html" class="external-link">package vignettes</a> for specific recommendations on optimizing performance.</p>
</div>
</div>
<div class="section level2">
<h2 id="future-directions">Future directions<a class="anchor" aria-label="anchor" href="#future-directions"></a>
</h2>
<p>The first data versioning system in <code>gittargets</code> uses <a href="https://git-scm.com" class="external-link">Git</a>, which is designed for source code and may not scale to enormous amounts of compressed data. Future releases of <code>gittargets</code> may explore other potential data backends such as <a href="https://git-annex.branchable.com" class="external-link"><code>git-annex</code></a> and <a href="https://dvc.org" class="external-link">DVC</a>.</p>
</div>
<div class="section level2">
<h2 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a>
</h2>
<p>Please note that the <code>gittargets</code> project is released with a <a href="https://contributor-covenant.org/version/2/0/CODE_OF_CONDUCT.html" class="external-link">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
<div class="section level2">
<h2 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h2>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/citation.html" class="external-link">citation</a></span><span class="op">(</span><span class="st">"gittargets"</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; To cite gittargets in publications use:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   William Michael Landau (2021). gittargets: Version Control for the</span>
<span class="co">#&gt;   targets Package. https://wlandau.github.io/gittargets/,</span>
<span class="co">#&gt;   https://github.com/wlandau/gittargets.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; A BibTeX entry for LaTeX users is</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   @Manual{,</span>
<span class="co">#&gt;     title = {gittargets: Version Control for the Targets Package},</span>
<span class="co">#&gt;     author = {William Michael Landau},</span>
<span class="co">#&gt;     note = {https://wlandau.github.io/gittargets/, https://github.com/wlandau/gittargets},</span>
<span class="co">#&gt;     year = {2021},</span>
<span class="co">#&gt;   }</span></code></pre></div>
<p>[1] <code>gert</code> does not have these requirements, but <code>gittargets</code> does not exclusively rely on <code>gert</code> because <code>libgit2</code> does not automatically work with <code>git-lfs</code>.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/wlandau/gittargets/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/wlandau/gittargets/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing gittargets</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>William Michael Landau <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-1878-3253" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://CRAN.R-project.org/package=gittargets" class="external-link"><img src="https://www.r-pkg.org/badges/version/gittargets" alt="CRAN"></a></li>
<li><a href="https://www.repostatus.org/#active" class="external-link"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="status"></a></li>
<li><a href="https://github.com/wlandau/gittargets/actions?query=workflow%3Acheck" class="external-link"><img src="https://github.com/wlandau/gittargets/workflows/check/badge.svg" alt="check"></a></li>
<li><a href="https://codecov.io/gh/wlandau/gittargets" class="external-link"><img src="https://codecov.io/gh/wlandau/gittargets/branch/main/graph/badge.svg?token=3T5DlLwUVl" alt="codecov"></a></li>
<li><a href="https://github.com/wlandau/gittargets/actions?query=workflow%3Alint" class="external-link"><img src="https://github.com/wlandau/gittargets/workflows/lint/badge.svg" alt="lint"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by William Michael Landau.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.9000.9000.9000.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
